(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[122],{2116:function(t,e,s){Promise.resolve().then(s.bind(s,659))},8515:function(t,e,s){"use strict";s.d(e,{Z:function(){return d}});var a={};s.r(a),s.d(a,{getPostDetail:function(){return o},getPosts:function(){return n},postLike:function(){return i}});var r={};s.r(r),s.d(r,{postLogin:function(){return l}});var c=s(8472);let n=async t=>{try{return(await c.Z.get("".concat("https://kjiyu-devlog.com","/api/post/list/").concat(t,"/view"),{withCredentials:!0})).data}catch(e){let t=e.response?e.response.data.message:e.message;throw Error("Error fetching posts: ".concat(t))}},o=async t=>{try{return(await c.Z.get("".concat("https://kjiyu-devlog.com","/api/post/").concat(t,"/detail"),{withCredentials:!0})).data}catch(e){let t=e.response?e.response.data.message:e.message;throw Error("Error fetching post detail: ".concat(t))}},i=async t=>{try{return(await c.Z.post("".concat("https://kjiyu-devlog.com","/api/post/").concat(t,"/like"),{withCredentials:!0})).data}catch(e){let t=e.response?e.response.data.message:e.message;throw Error("Error posting like: ".concat(t))}},l=async t=>{try{return(await c.Z.post("".concat("https://kjiyu-devlog.com","/api/auth"),t,{headers:{"Content-Type":"application/json"}})).data}catch(t){throw t.response.data}};var d={post:a,auth:r}},659:function(t,e,s){"use strict";s.r(e);var a=s(7437),r=s(2265),c=s(6920),n=s(5079),o=s(8515),i=s(6463);e.default=()=>{let t=(0,i.useRouter)(),[e,s]=(0,r.useState)([]),[l,d]=(0,r.useState)([]),[p,h]=(0,r.useState)("all"),u=async t=>{h(t);try{let e=await o.Z.post.getPosts(t);s(e.postsList)}catch(t){console.error("Error fetching data:",t)}},m=async()=>{try{let t=await o.Z.post.getPosts("all");s(t.postsList),d([{categoryName:"전체",_id:"all"},...t.categoryFindResult])}catch(t){console.error("Error fetching data:",t)}};return(0,r.useEffect)(()=>{m()},[]),(0,a.jsxs)("div",{className:"wrapper",children:[(0,a.jsx)("div",{className:"ctgr-wrap",children:l.map(t=>(0,a.jsx)("p",{className:"pointer ".concat(p===t._id?"active":""),onClick:()=>u(t._id),children:t.categoryName}))}),(0,a.jsx)("div",{className:"list-wrap",children:e.map(e=>{var s;return(0,a.jsxs)("div",{className:"list-container",children:[(0,a.jsx)("h4",{className:"title",children:e.title}),(0,a.jsxs)("div",{className:"info",children:[(0,a.jsx)("p",{className:"category",children:null===(s=l.find(t=>t._id===e.category))||void 0===s?void 0:s.categoryName}),(0,a.jsx)("p",{className:"date",children:e.date}),(0,a.jsxs)("p",{className:"likes_cmt",children:[(0,a.jsxs)("div",{className:"likes",children:[(0,a.jsx)(c.G,{icon:n.m6i}),e.likes.length]}),(0,a.jsxs)("div",{className:"cmt",children:[(0,a.jsx)(c.G,{icon:n.Mzg}),e.comments.length]})]})]}),(0,a.jsx)("div",{className:"content",children:e.previewContents}),(0,a.jsx)("button",{className:"read",onClick:()=>t.push("/post/?id=".concat(e._id)),children:"Read more"})]})})})]})}}},function(t){t.O(0,[676,882,472,971,23,744],function(){return t(t.s=2116)}),_N_E=t.O()}]);