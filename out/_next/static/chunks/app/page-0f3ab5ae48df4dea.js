(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1955:function(t,e,s){Promise.resolve().then(s.bind(s,7774))},8515:function(t,e,s){"use strict";s.d(e,{Z:function(){return d}});var a={};s.r(a),s.d(a,{getPostDetail:function(){return i},getPosts:function(){return r},postLike:function(){return c}});var n={};s.r(n),s.d(n,{postLogin:function(){return l}});var o=s(8472);let r=async t=>{try{return(await o.Z.get("".concat("https://kjiyu-devlog.com","/api/post/list/").concat(t,"/view"),{withCredentials:!0})).data}catch(e){let t=e.response?e.response.data.message:e.message;throw Error("Error fetching posts: ".concat(t))}},i=async t=>{try{return(await o.Z.get("".concat("https://kjiyu-devlog.com","/api/post/").concat(t,"/detail"),{withCredentials:!0})).data}catch(e){let t=e.response?e.response.data.message:e.message;throw Error("Error fetching post detail: ".concat(t))}},c=async t=>{try{return(await o.Z.post("".concat("https://kjiyu-devlog.com","/api/post/").concat(t,"/like"),{withCredentials:!0})).data}catch(e){let t=e.response?e.response.data.message:e.message;throw Error("Error posting like: ".concat(t))}},l=async t=>{try{return(await o.Z.post("".concat("https://kjiyu-devlog.com","/api/auth"),t,{headers:{"Content-Type":"application/json"}})).data}catch(t){throw t.response.data}};var d={post:a,auth:n}},7774:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return m}});var a=s(7437),n=s(6648),o=s(6463),r=s(1444),i=s(2265),c=s(5079),l=s(6920),d=t=>{let{children:e}=t,s=(0,r.I0)(),{modal:n}=(0,r.v9)(t=>(console.log(t,"<state"),{modal:t.modals.modal,auth:t.auth}));return n.open?(0,a.jsx)("div",{className:"modal-overlay",children:(0,a.jsxs)("div",{className:"modal-content",children:[n.data.title&&(0,a.jsx)("h2",{className:"modal-title",children:n.data.title}),(0,a.jsxs)("button",{className:"modal-close",onClick:()=>{s({type:"CLOSE_MODAL"})},children:[(0,a.jsx)(l.G,{icon:c.NBC})," "]}),(0,a.jsx)("div",{className:"modal-body",children:e})]})}):null},u=s(8515),p=s(3580),h=()=>{let t=(0,r.I0)(),e=(0,o.useRouter)(),[s,n]=(0,i.useState)(""),[c,l]=(0,i.useState)(""),[h,m]=(0,i.useState)(""),g=async()=>{await u.Z.auth.postLogin({userId:s,password:c}).then(s=>(m(""),t({type:"CLOSE_MODAL"}),e.push("/list"),(0,p.Am)("".concat(s.user.name,"님, 안녕하세요!")),s)).catch(t=>{"01"===t.code&&l(""),m(t.msg)})};return(0,a.jsxs)(d,{children:[(0,a.jsxs)("div",{className:"input-wrap",children:[(0,a.jsx)("input",{value:s,className:"login-input id",type:"text",placeholder:"ID",onChange:t=>{n(t.target.value)}}),(0,a.jsx)("input",{value:c,className:"login-input password",type:"password",placeholder:"Password",onChange:t=>{l(t.target.value)}})]}),""!==h&&(0,a.jsx)("h5",{className:"error login-msg",children:h}),(0,a.jsx)("button",{className:"login-button",onClick:g,children:"Login"})]})};function m(){let t=(0,o.useRouter)(),e=(0,r.I0)(),{modal:s}=(0,r.v9)(t=>({modal:t.modals.modal,auth:t.auth})),i=()=>{e({type:"OPEN_MODAL",data:{type:"login",title:"Login"}})};return(0,a.jsxs)("div",{className:"main-wrapper",children:[(0,a.jsxs)("div",{className:"main-wrap",children:[(0,a.jsx)("h1",{children:"Kjiyu-dev-log"}),(0,a.jsx)("h3",{children:"frontend-developer"}),(0,a.jsx)(n.default,{src:"https://cdn1.iconfinder.com/data/icons/3d-isometric-color/512/computer-iso-color.png",alt:"main-illust",width:"300",height:"300"}),(0,a.jsx)("p",{children:"일상 및 개발일지를 기록 합니다."}),(0,a.jsx)("p",{children:"React/Typescript/NextJs, Node"})]}),(0,a.jsxs)("div",{className:"sign-wrap",children:[(0,a.jsx)("button",{onClick:()=>{i()},children:"Login"}),(0,a.jsxs)("div",{className:"new-container",children:[(0,a.jsx)("p",{children:"New here?"}),(0,a.jsx)("button",{onClick:()=>{t.push("/list")},children:"Register"}),(0,a.jsx)("p",{className:"just-view",onClick:()=>{t.push("/list")},children:"Just View"})]})]}),"login"===s.data.type&&(0,a.jsx)(h,{})]})}}},function(t){t.O(0,[676,882,472,170,648,971,23,744],function(){return t(t.s=1955)}),_N_E=t.O()}]);