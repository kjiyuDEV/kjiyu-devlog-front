(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[297],{8135:function(e,t,s){Promise.resolve().then(s.bind(s,4524))},8515:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var a={};s.r(a),s.d(a,{getPostDetail:function(){return i},getPosts:function(){return c},postLike:function(){return o}});var r={};s.r(r),s.d(r,{postLogin:function(){return l}});var n=s(8472);let c=async e=>{try{return(await n.Z.get("".concat("https://kjiyu-devlog.com","/api/post/list/").concat(e,"/view"),{withCredentials:!0})).data}catch(t){let e=t.response?t.response.data.message:t.message;throw Error("Error fetching posts: ".concat(e))}},i=async e=>{try{return(await n.Z.get("".concat("https://kjiyu-devlog.com","/api/post/").concat(e,"/detail"),{withCredentials:!0})).data}catch(t){let e=t.response?t.response.data.message:t.message;throw Error("Error fetching post detail: ".concat(e))}},o=async e=>{try{return(await n.Z.post("".concat("https://kjiyu-devlog.com","/api/post/").concat(e,"/like"),{withCredentials:!0})).data}catch(t){let e=t.response?t.response.data.message:t.message;throw Error("Error posting like: ".concat(e))}},l=async e=>{try{return(await n.Z.post("".concat("https://kjiyu-devlog.com","/api/auth"),e,{headers:{"Content-Type":"application/json"}})).data}catch(e){throw e.response.data}};var d={post:a,auth:r}},4524:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var a=s(7437),r=s(2265),n=s(8515),c=s(6463),i=s(5079),o=s(6920),l=e=>{let{children:t}=e,s=(0,c.useRouter)();return(0,a.jsxs)("div",{className:"footer-wrapper",children:[(0,a.jsx)(o.G,{icon:i.acZ,style:{marginRight:"5px"},onClick:()=>s.back()}),(0,a.jsx)(a.Fragment,{children:t})]})};let d=()=>{let[e,t]=(0,r.useState)(null),[s,d]=(0,r.useState)(!0),h=(0,c.useSearchParams)().get("id");return((0,r.useEffect)(()=>{(async()=>{if(!h){console.error("Post ID is missing"),d(!1);return}try{let e=await n.Z.post.getPostDetail(h);t(e)}catch(e){console.error("Error fetching post:",e)}finally{d(!1)}})()},[h]),s)?(0,a.jsx)("div",{children:"Loading..."}):e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"detail-wrapper",children:[(0,a.jsx)("p",{className:"category",children:e.category.categoryName}),(0,a.jsx)("h2",{className:"title",children:e.title}),(0,a.jsxs)("div",{className:"info-wrap",children:[(0,a.jsx)("p",{className:"date",children:e.date}),(0,a.jsx)("span",{className:"separator",children:"|"}),(0,a.jsxs)("p",{className:"views",children:["조회수 ",e.views]})]}),(0,a.jsx)("div",{className:"content",dangerouslySetInnerHTML:{__html:e.contents}})]}),(0,a.jsx)(l,{children:(0,a.jsx)("div",{className:"right-wrap",children:(0,a.jsxs)("p",{className:"likes_cmt",children:[(0,a.jsxs)("div",{className:"likes",children:[(0,a.jsx)(o.G,{icon:i.m6i}),e.likes.length]}),(0,a.jsxs)("div",{className:"cmt",children:[(0,a.jsx)(o.G,{icon:i.Mzg,onClick:()=>{console.log("handlePostModal")}}),e.comments.length]})]})})})]}):(0,a.jsx)("div",{children:"Post not found"})};var h=()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:(0,a.jsx)(d,{})})})}},function(e){e.O(0,[676,882,472,971,23,744],function(){return e(e.s=8135)}),_N_E=e.O()}]);