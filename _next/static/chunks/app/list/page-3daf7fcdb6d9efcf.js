(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[122],{2116:function(t,s,e){Promise.resolve().then(e.bind(e,2477))},1046:function(t,s,e){"use strict";e.d(s,{Z:function(){return g}});var a={};e.r(a),e.d(a,{getPostComments:function(){return d},getPostDetail:function(){return i},getPosts:function(){return c},postComments:function(){return p},postLike:function(){return l}});var n={};e.r(n),e.d(n,{postLogin:function(){return h},postSignUp:function(){return u}});var o={};e.r(o),e.d(o,{fetchVisits:function(){return m}});var r=e(8472);let c=async t=>{try{return(await r.Z.get("".concat("https://kjiyu-devlog.com","/api/post/list/").concat(t,"/view"),{withCredentials:!0})).data}catch(s){let t=s.response?s.response.data.message:s.message;throw Error("Error fetching posts: ".concat(t))}},i=async t=>{try{return(await r.Z.get("".concat("https://kjiyu-devlog.com","/api/post/").concat(t,"/detail"),{withCredentials:!0})).data}catch(s){let t=s.response?s.response.data.message:s.message;throw Error("Error fetching post detail: ".concat(t))}},l=async(t,s)=>{try{return(await r.Z.post("".concat("https://kjiyu-devlog.com","/api/post/").concat(t,"/like"),s,{headers:{"Content-Type":"application/json"}})).data}catch(s){let t=s.response?s.response.data.message:s.message;throw Error("Error posting like: ".concat(t))}},d=async t=>{try{return(await r.Z.get("".concat("https://kjiyu-devlog.com","/api/post/").concat(t,"/comments"))).data}catch(s){let t=s.response?s.response.data.message:s.message;throw Error("Error fetching post detail: ".concat(t))}},p=async(t,s)=>{try{return(await r.Z.post("".concat("https://kjiyu-devlog.com","/api/post/").concat(t,"/comments"),s)).data}catch(s){let t=s.response?s.response.data.message:s.message;throw Error("Error fetching post detail: ".concat(t))}},h=async t=>{try{return(await r.Z.post("".concat("https://kjiyu-devlog.com","/api/auth"),t,{headers:{"Content-Type":"application/json"}})).data}catch(t){throw t.response.data}},u=async t=>{try{return(await r.Z.post("".concat("https://kjiyu-devlog.com","/api/auth/signup"),t,{headers:{"Content-Type":"application/json"}})).data}catch(t){throw t.response.data}},m=async t=>{try{return(await r.Z.post("".concat("https://kjiyu-devlog.com","/api/visitor/visit"),t)).data}catch(t){throw t.response.data}};var g={post:a,auth:n,visit:o}},3776:function(t,s,e){"use strict";e.d(s,{w:function(){return a}});let a={OPEN_MODAL:"OPEN_MODAL",CLOSE_MODAL:"CLOSE_MODAL",OPEN_CONFIRM_MODAL:"OPEN_CONFIRM_MODAL",CLOSE_CONFIRM_MODAL:"CLOSE_CONFIRM_MODAL",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGOUT_SUCCESS:"LOGOUT_SUCCESS",SET_POSTS:"SET_POSTS"}},2477:function(t,s,e){"use strict";e.r(s),e.d(s,{default:function(){return h}});var a=e(7437),n=e(2265),o=e(6463),r=e(1444),c=e(1046),i=e(6920),l=e(5079),d=e(3776),p=()=>(0,a.jsxs)("div",{className:"skeleton-wrapper",children:[(0,a.jsx)("div",{className:"skeleton-title"}),(0,a.jsxs)("div",{className:"skeleton-info",children:[(0,a.jsx)("div",{className:"skeleton-category"}),(0,a.jsx)("div",{className:"skeleton-date"})]}),(0,a.jsx)("div",{className:"skeleton-content"}),(0,a.jsx)("div",{className:"skeleton-button"})]}),h=()=>{let t=(0,o.useRouter)(),s=(0,r.I0)(),[e,h]=(0,n.useState)([]),[u,m]=(0,n.useState)([]),[g,j]=(0,n.useState)("all"),[v,y]=(0,n.useState)(!0),{modal:N,auth:f,postList:w}=(0,r.v9)(t=>({modal:t.modals.modal,auth:t.auth,postList:t.post.postList})),_=async t=>{j(t),y(!0);try{let e=await c.Z.post.getPosts(t);h(e.postsList),s({type:d.w.SET_POSTS,postList:e.postsList,originPostList:e.postsList})}catch(t){console.error("Error fetching data:",t)}finally{y(!1)}},x=async()=>{try{let t=await c.Z.post.getPosts("all");h(t.postsList),s({type:d.w.SET_POSTS,postList:t.postsList,originPostList:t.postsList}),m([{categoryName:"전체",_id:"all"},...t.categoryFindResult])}catch(t){console.error("Error fetching data:",t)}finally{y(!1)}};return((0,n.useEffect)(()=>{x()},[]),v)?(0,a.jsxs)("div",{className:"wrapper",children:[(0,a.jsxs)("div",{className:"ctgr-wrap",children:[(0,a.jsx)("p",{children:"전체"}),(0,a.jsx)("p",{children:"일상"}),(0,a.jsx)("p",{children:"개발기록"})]}),(0,a.jsxs)("div",{className:"list-wrap",children:[(0,a.jsx)(p,{}),(0,a.jsx)(p,{}),(0,a.jsx)(p,{})]})]}):(0,a.jsxs)("div",{className:"wrapper",children:[(0,a.jsx)("div",{className:"ctgr-wrap",children:u.map(t=>(0,a.jsx)("p",{className:"pointer ".concat(g===t._id?"active":""),onClick:()=>_(t._id),children:t.categoryName},t._id))}),(0,a.jsxs)("div",{className:"list-wrap",children:[w.length>0&&w.map(s=>{var e;return(0,a.jsxs)("div",{className:"list-container",children:[(0,a.jsx)("h4",{className:"title",children:s.title}),(0,a.jsxs)("div",{className:"info",children:[(0,a.jsx)("p",{className:"category",children:null===(e=u.find(t=>t._id===s.category))||void 0===e?void 0:e.categoryName}),(0,a.jsx)("p",{className:"date",children:s.date}),(0,a.jsxs)("p",{className:"likes_cmt",children:[(0,a.jsxs)("div",{className:"likes",children:[(0,a.jsx)(i.G,{icon:l.m6i}),s.likes.length]}),(0,a.jsxs)("div",{className:"cmt",children:[(0,a.jsx)(i.G,{icon:l.Mzg}),s.comments.length]})]})]}),(0,a.jsx)("div",{className:"content",children:s.previewContents}),(0,a.jsx)("button",{className:"read",onClick:()=>t.push("/post/?id=".concat(s._id)),children:"Read more"})]},s._id)}),0===w.length&&(0,a.jsx)("p",{className:"no-posts",children:"검색어에 해당하는 게시글이 없어요\uD83E\uDD7A"})]})]})}}},function(t){t.O(0,[676,58,920,971,23,744],function(){return t(t.s=2116)}),_N_E=t.O()}]);