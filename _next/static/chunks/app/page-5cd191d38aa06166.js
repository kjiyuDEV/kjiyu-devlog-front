(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1955:function(t,e,s){Promise.resolve().then(s.bind(s,8212))},1046:function(t,e,s){"use strict";s.d(e,{Z:function(){return m}});var n={};s.r(n),s.d(n,{getPostComments:function(){return l},getPostDetail:function(){return c},getPosts:function(){return r},postComments:function(){return u},postLike:function(){return p}});var a={};s.r(a),s.d(a,{postLogin:function(){return d},postSignUp:function(){return h}});var i={};s.r(i),s.d(i,{fetchVisits:function(){return g}});var o=s(8472);let r=async t=>{try{return(await o.Z.get("".concat("https://kjiyu-devlog.com","/api/post/list/").concat(t,"/view"),{withCredentials:!0})).data}catch(e){let t=e.response?e.response.data.message:e.message;throw Error("Error fetching posts: ".concat(t))}},c=async t=>{try{return(await o.Z.get("".concat("https://kjiyu-devlog.com","/api/post/").concat(t,"/detail"),{withCredentials:!0})).data}catch(e){let t=e.response?e.response.data.message:e.message;throw Error("Error fetching post detail: ".concat(t))}},p=async(t,e)=>{try{return(await o.Z.post("".concat("https://kjiyu-devlog.com","/api/post/").concat(t,"/like"),e,{headers:{"Content-Type":"application/json"}})).data}catch(e){let t=e.response?e.response.data.message:e.message;throw Error("Error posting like: ".concat(t))}},l=async t=>{try{return(await o.Z.get("".concat("https://kjiyu-devlog.com","/api/post/").concat(t,"/comments"))).data}catch(e){let t=e.response?e.response.data.message:e.message;throw Error("Error fetching post detail: ".concat(t))}},u=async(t,e)=>{try{return(await o.Z.post("".concat("https://kjiyu-devlog.com","/api/post/").concat(t,"/comments"),e)).data}catch(e){let t=e.response?e.response.data.message:e.message;throw Error("Error fetching post detail: ".concat(t))}},d=async t=>{try{return(await o.Z.post("".concat("https://kjiyu-devlog.com","/api/auth"),t,{headers:{"Content-Type":"application/json"}})).data}catch(t){throw t.response.data}},h=async t=>{try{return(await o.Z.post("".concat("https://kjiyu-devlog.com","/api/auth/signup"),t,{headers:{"Content-Type":"application/json"}})).data}catch(t){throw t.response.data}},g=async t=>{try{return(await o.Z.post("".concat("https://kjiyu-devlog.com","/api/visitor/visit"),t)).data}catch(t){throw t.response.data}};var m={post:n,auth:a,visit:i}},3776:function(t,e,s){"use strict";s.d(e,{w:function(){return n}});let n={OPEN_MODAL:"OPEN_MODAL",CLOSE_MODAL:"CLOSE_MODAL",OPEN_CONFIRM_MODAL:"OPEN_CONFIRM_MODAL",CLOSE_CONFIRM_MODAL:"CLOSE_CONFIRM_MODAL",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGOUT_SUCCESS:"LOGOUT_SUCCESS",SET_POSTS:"SET_POSTS"}},8212:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return l}});var n=s(7437),a=s(6648),i=s(2265),o=s(6463),r=s(1444),c=s(3776),p=s(1046);function l(){let t=(0,o.useRouter)(),e=(0,r.I0)(),s=JSON.parse(localStorage.getItem("visitInit")||"{}"),[l,u]=(0,i.useState)(0),{modal:d,auth:h}=(0,r.v9)(t=>({modal:t.modals.modal,auth:t.auth})),g=()=>{e({type:c.w.OPEN_MODAL,data:{type:"login",title:"Login"}})},m=()=>{h.isAuthenticated||e({type:c.w.OPEN_MODAL,data:{type:"signUp",title:"회원가입"}})};return(0,i.useEffect)(()=>{let t=async t=>{await p.Z.visit.fetchVisits({type:t}).then(t=>{console.log(t.views),u(t.views)})};if(null==s?void 0:s.exTime)t("");else{let e=new Date,s=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,0,0,0);localStorage.setItem("visitInit",JSON.stringify({exTime:s})),t("up")}},[]),(0,n.jsxs)("div",{className:"main-wrapper",children:[(0,n.jsxs)("div",{className:"main-wrap",children:[(0,n.jsx)("h1",{children:"Kjiyu-dev-log"}),(0,n.jsx)("h3",{children:"frontend-developer"}),l&&(0,n.jsx)("h5",{children:(0,n.jsx)("p",{className:"main-views",children:(0,n.jsxs)("span",{children:[" ",l," visitors"]})})}),(0,n.jsx)(a.default,{src:"https://cdn1.iconfinder.com/data/icons/3d-isometric-color/512/computer-iso-color.png",alt:"main-illust",width:"300",height:"300",unoptimized:!0}),(0,n.jsx)("p",{children:"일상 및 개발일지를 기록 합니다."}),(0,n.jsx)("p",{children:"React/Typescript/NextJs, Node"})]}),(0,n.jsxs)("div",{className:"sign-wrap",children:[(0,n.jsx)("button",{onClick:()=>{h.isAuthenticated?t.push("/list"):g()},children:h.isAuthenticated?"Go List":"Login"}),(0,n.jsxs)("div",{className:"new-container ".concat(h.isAuthenticated?"logout-p":""),children:[!h.isAuthenticated&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"New here?"}),(0,n.jsx)("button",{onClick:()=>{m()},children:"Register"})]}),(0,n.jsx)("p",{className:"just-view",onClick:()=>{h.isAuthenticated?e({type:c.w.OPEN_CONFIRM_MODAL,data:{type:"logout",content:"로그아웃 하시겠어요?"}}):t.push("/list")},children:h.isAuthenticated?"Logout":"Just View"})]})]})]})}}},function(t){t.O(0,[58,648,971,23,744],function(){return t(t.s=1955)}),_N_E=t.O()}]);